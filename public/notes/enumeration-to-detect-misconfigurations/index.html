<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Enumeration to detect misconfigurations |
Agus Fahmi Aji Pramana's Blogging Site
</title><meta name=keywords content="enumeration,redis,smb,ftp,telnet"><meta name=description content="
    Key notes about Enumeration and Hack The Box Tier 0 Challenges"><meta name=author content="Agus Fahmi Aji Pramana"><link rel=canonical href=http://localhost:1313/notes/enumeration-to-detect-misconfigurations/><link crossorigin=anonymous href=/assets/css/stylesheet.606be4c20b063263aae99830f89a0f4bbedcc98a7b8fea0b216f60439a69a571.css integrity="sha256-YGvkwgsGMmOq6Zgw+JoPS77cyYp7j+oLIW9gQ5pppXE=" rel="preload stylesheet" as=style><link crossorigin=anonymous referrerpolicy=no-referrer rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="><link rel=icon href=http://localhost:1313/favicon.ico type=image/x-icon><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=manifest href=/site.webmanifest><link rel=icon type=image/png sizes=192x192 href=http://localhost:1313/img/android-chrome-192x192.png><link rel=icon type=image/png sizes=512x512 href=http://localhost:1313/img/android-chrome-512x512.png><link rel=apple-touch-icon href=http://localhost:1313/img/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg color=#2e2e33><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33
  "><link rel=alternate hreflang=en href=http://localhost:1313/notes/enumeration-to-detect-misconfigurations/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Enumeration to detect misconfigurations"><meta property="og:description" content="Key notes about Enumeration and Hack The Box Tier 0 Challenges"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/notes/enumeration-to-detect-misconfigurations/"><meta property="og:image" content="http://localhost:1313/logo.svg"><meta property="article:section" content="notes"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/logo.svg"><meta name=twitter:title content="Enumeration to detect misconfigurations"><meta name=twitter:description content="Key notes about Enumeration and Hack The Box Tier 0 Challenges"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Personal Notes, Learning, Self-Preparation","item":"http://localhost:1313/notes/"},{"@type":"ListItem","position":2,"name":"Enumeration to detect misconfigurations","item":"http://localhost:1313/notes/enumeration-to-detect-misconfigurations/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Enumeration to detect misconfigurations","name":"Enumeration to detect misconfigurations","description":"Key notes about Enumeration and Hack The Box Tier 0 Challenges","keywords":["enumeration","redis","smb","ftp","telnet"],"articleBody":"Basics When first starting a penetration test or any security evaluation on a target, a primary step is known as Enumeration which involves scanning of the open ports.\nTools ping - Packet Internet or InterNet Groper ping -c 4 nmap - Network Mapper sudo nmap -p- # Scan all ports, takes longer. sudo nmap -sV # Name and description of identified services. showmount - mount info for NFS server showmount -e /SomeDir (everyone) sudo mkdir nfs sudo mount -t nfs /SomeDir nfs hash-id - Hash Identifier hash-id -h hash-id -f smbmap - SMB share drives smbmap -H -u 'user' -p 'pass' enum4linux - Windows and Samba system enum4linux netdiscover - IP addresses on the network netdiscover -r / netcat / whatweb / curl / dmitry - Banner Grabbing netcat 220 (vsFTPd 2.3.4) # FTP quit 221 Goodbye whatweb http:// dmitry -p # -p port scan on 150 most used services dmitry -pb # -b switch version of the program running. Port numbers Number Assignment 20 File Transfer Protocol (FTP) Data Transfer 21 File Transfer Protocol (FTP) Command Control 22 Secure Shell (SSH) Secure Login 23 Telnet remote login service, unencrypted text messages 25 Simple Mail Transfer Protocol (SMTP) email delivery 53 Domain Name System (DNS) service 67, 68 Dynamic Host Configuration Protocol (DHCP) 80 Hypertext Transfer Protocol (HTTP) used in the World Wide Web 110 Post Office Protocol (POP3) 119 Network News Transfer Protocol (NNTP) 123 Network Time Protocol (NTP) 143 Internet Message Access Protocol (IMAP) Management of digital mail 161 Simple Network Management Protocol (SNMP) 194 Internet Relay Chat (IRC) 443 HTTP Secure (HTTPS) HTTP over TLS/SSL 546, 547 DHCPv6 IPv6 version of DHCP 6379 Redis Challenges telnet(port 23/tcp Linux telnetd) Telnet is an old service used for remote management of other hosts on the network. Usually, connection requests through telnet are configured with username/password combinations for increased security.\nNote: Due to configuration mistakes, some important accounts can be left with blank passwords for the sake of accessibility. Some typical important accounts have self-explanatory names, such as: admin, administrator and root leaving open to simple brute-forcing attacks.\n$ telnet {target-ip-addr} Meow login: root cat flag.txt FTP(port 21/tcp vsftpd 3.0.3) File transfer services that may have high chances to be poorly configured, it can be easily misconfigured if not correctly understood. For secure transmission that protects the username and password and encrypts the content, FTP is often secured with SSL/TLS (FTPS) or replaced with SSH File Transfer Protocol (SFTP).\nNote: FTP users may authenticate themselves with a clear-text sign-in protocol, generally in the form of a username and password. A typical misconfiguration for running FTP services allows the anonymous username, followed by any password whatsoever since the service will disregard the password for this specific account.\n$ ftp {target-ip-addr} Name: anonymous 331 Please specify the password. Password: anon123 ftp\u003e ls 200 : PORT command successful. Consider using PASV. 150 : Here comes the directory listing. 226 : Directory send OK. \u003e get flag.txt # Download the file to the same directory. 226 : Transfer complete. \u003e bye 421 Timeout # Other options: Make sure from are in right path where the file exists. \u003e put exploit.php # Upload a file \u003e mdelete exploit.php # Delete a file SMB(445/tcp microsoft-ds?) SMB (Server Message Block) is communication protocol provides shared access to files, printers, and serial ports between endpoints on a network. We mostly see SMB services running on Windows machines. SMB runs at the Application or Presentation layers of the OSI model. Due to this, it relies on lower-level protocols for transport. The Transport layer protocol that Microsoft SMB Protocol is most often used with is NetBIOS over TCP/IP (NBT).\nNote. An SMB-enabled storage on the network is called a share . SMB clients are required to provide a username/password combination to see or interact with the contents of the SMB share. A network administrator can sometimes make mistakes and accidentally allow logins without any valid credentials or using either guest_accounts or anonymous log-ons.\nFour separate shares:\nADMIN$ - Administrative shares are hidden network shares created by the Windows NT family of operating systems that allow system administrators to have remote access to every disk volume on a network-connected system. These shares may not be permanently deleted but may be disabled. C$ - Administrative share for the C:\\ disk volume. This is where the operating system is hosted. IPC$ - The inter-process communication share. Used for inter-process communication via named pipes and is not part of the file system. WorkShares - Custom share. $ smbclient -L {target-ip-addr} $ smbclient \\\\\\\\{target-ip-addr}\\\\ADMIN$ or $ smbclient \\\\\\\\{target-ip-addr}\\\\C$ NT_STATUS_ACCESS_DENIED # Seems to be human made, prone to misconfiguration. $ smbclient \\\\\\\\{target-ip-addr}\\\\WorkShares smb: \\\u003e ls : listing contents of the directories within the share cd : changing current directories within the share get : downloading the contents of the directories within the share exit : exiting the smb shell # Passing username and password. $ smbclient -U 'user' \\\\\\\\{target-ip-addr}\\\\Administrator Redis(6379/tcp key-value store 5.0.7) Redis (REmote DIctionary Server), which is an ‘in-memory’ database are the ones that rely essentially on the primary memory for data storage (meaning that the database is managed in the RAM of the system); in contrast to databases that store data on the disk or SSDs. Primary memory is significantly faster than the secondary memory, the data retrieval time in the case of ‘in-memory’ databases is very small, thus offering very efficient \u0026 minimal response times.\nNote: In-memory databases like Redis are typically used to cache data that is frequently requested for quick retrieval. The Keyspace section provides statistics on the main dictionary of each database. The statistics include the number of keys, and the number of keys with an expiration.\n$ redis-cli -h {target-ip-addr} \u003e info # Keyspace db0:keys=4 \u003e select 0 # Select Redis logical database followed by index number. \u003e keys * # List all the keys present. \u003e get flag $ redis-cli -h {target-ip-addr} \u003e AUTH Source Hack The Box ","wordCount":"1004","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Agus Fahmi Aji Pramana"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/notes/enumeration-to-detect-misconfigurations/"},"publisher":{"@type":"Organization","name":"Agus Fahmi Aji Pramana's Blogging Site","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Agus Fahmi Aji Pramana (Alt + H)">Agus Fahmi Aji Pramana</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/about-me title="About Me"><span>About Me</span></a></li><li><a href=http://localhost:1313/blogs title=Blogs><span>Blogs</span></a></li><li><a href=http://localhost:1313/projects title=Projects><span>Projects</span></a></li><li><a href=http://localhost:1313/slides title=Slides><span>Slides</span></a></li><li><a href=http://localhost:1313/honors title=Honors><span>Honors</span></a></li><li><a href=http://localhost:1313/search title="Search (Alt + /)" accesskey=/><i class="fa fa-search"></i></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/notes/>Personal Notes, Learning, Self-Preparation</a></div><h1 class="post-title entry-hint-parent">Enumeration to detect misconfigurations</h1><div class=post-description>Key notes about Enumeration and Hack The Box Tier 0 Challenges</div><div class=post-meta>5 min&nbsp;·&nbsp;1004 words&nbsp;·&nbsp;Agus Fahmi Aji Pramana</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Agenda</span></summary><div class=inner><ul><li><a href=#basics aria-label=Basics>Basics</a><ul><li><a href=#tools aria-label=Tools>Tools</a><ul><li><a href=#ping---packet-internet-or-internet-groper aria-label="ping - Packet Internet or InterNet Groper">ping - Packet Internet or InterNet Groper</a></li><li><a href=#nmap---network-mapper aria-label="nmap - Network Mapper">nmap - Network Mapper</a></li></ul></li><li><a href=#showmount---mount-info-for-nfs-server aria-label="showmount - mount info for NFS server">showmount - mount info for NFS server</a></li><li><a href=#hash-id---hash-identifier aria-label="hash-id - Hash Identifier">hash-id - Hash Identifier</a></li><li><a href=#smbmap---smb-share-drives aria-label="smbmap - SMB share drives">smbmap - SMB share drives</a></li><li><a href=#enum4linux---windows-and-samba-system aria-label="enum4linux - Windows and Samba system">enum4linux - Windows and Samba system</a></li><li><a href=#netdiscover---ip-addresses-on-the-network aria-label="netdiscover - IP addresses on the network">netdiscover - IP addresses on the network</a></li><li><a href=#netcat--whatweb--curl--dmitry---banner-grabbing aria-label="netcat / whatweb / curl / dmitry - Banner Grabbing">netcat / whatweb / curl / dmitry - Banner Grabbing</a><ul><li><a href=#port-numbers aria-label="Port numbers">Port numbers</a></li></ul></li></ul></li><li><a href=#challenges aria-label=Challenges>Challenges</a><ul><li><a href=#telnetport-23tcp-linux-telnetd aria-label="telnet(port 23/tcp Linux telnetd)">telnet(port 23/tcp Linux telnetd)</a></li><li><a href=#ftpport-21tcp-vsftpd-303 aria-label="FTP(port 21/tcp vsftpd 3.0.3)">FTP(port 21/tcp vsftpd 3.0.3)</a></li><li><a href=#smb445tcp-microsoft-ds aria-label="SMB(445/tcp microsoft-ds?)">SMB(445/tcp microsoft-ds?)</a></li><li><a href=#redis6379tcp-key-value-store-507 aria-label="Redis(6379/tcp key-value store 5.0.7)">Redis(6379/tcp key-value store 5.0.7)</a></li></ul></li><li><a href=#source aria-label=Source>Source</a></li></ul></div></details></div><div class=post-content><h2 id=basics>Basics<a hidden class=anchor aria-hidden=true href=#basics>#</a></h2><p>When first starting a penetration test or any security evaluation on a target, a primary step is known as <strong>Enumeration</strong> which involves scanning of the open ports.</p><h3 id=tools>Tools<a hidden class=anchor aria-hidden=true href=#tools>#</a></h3><h4 id=ping---packet-internet-or-internet-groper><code>ping</code> - Packet Internet or InterNet Groper<a hidden class=anchor aria-hidden=true href=#ping---packet-internet-or-internet-groper>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ping &lt;target-ip-addr&gt; -c <span class=m>4</span>
</span></span></code></pre></div><h4 id=nmap---network-mapper><code>nmap</code> - Network Mapper<a hidden class=anchor aria-hidden=true href=#nmap---network-mapper>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo nmap -p- &lt;target-ip-addr&gt; <span class=c1># Scan all ports, takes longer.</span>
</span></span><span class=line><span class=cl>sudo nmap -sV &lt;target-ip-addr&gt; <span class=c1># Name and description of identified services.</span>
</span></span></code></pre></div><h3 id=showmount---mount-info-for-nfs-server><code>showmount</code> - mount info for NFS server<a hidden class=anchor aria-hidden=true href=#showmount---mount-info-for-nfs-server>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>showmount -e &lt;target-ip-addr&gt;
</span></span><span class=line><span class=cl>/SomeDir <span class=o>(</span>everyone<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo mkdir nfs
</span></span><span class=line><span class=cl>sudo mount -t nfs &lt;target-ip-addr&gt;/SomeDir nfs
</span></span></code></pre></div><h3 id=hash-id---hash-identifier><code>hash-id</code> - Hash Identifier<a hidden class=anchor aria-hidden=true href=#hash-id---hash-identifier>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hash-id -h &lt;hash&gt;
</span></span><span class=line><span class=cl>hash-id -f &lt;file-name-path&gt;
</span></span></code></pre></div><h3 id=smbmap---smb-share-drives><code>smbmap</code> - SMB share drives<a hidden class=anchor aria-hidden=true href=#smbmap---smb-share-drives>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>smbmap -H &lt;target-ip-addr&gt; -u <span class=s1>&#39;user&#39;</span> -p <span class=s1>&#39;pass&#39;</span>
</span></span></code></pre></div><h3 id=enum4linux---windows-and-samba-system><code>enum4linux</code> - Windows and Samba system<a hidden class=anchor aria-hidden=true href=#enum4linux---windows-and-samba-system>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>enum4linux &lt;target-windows-ip-addr&gt;
</span></span></code></pre></div><h3 id=netdiscover---ip-addresses-on-the-network><code>netdiscover</code> - IP addresses on the network<a hidden class=anchor aria-hidden=true href=#netdiscover---ip-addresses-on-the-network>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>netdiscover -r &lt;network-addr&gt;/&lt;cidr&gt;
</span></span></code></pre></div><h3 id=netcat--whatweb--curl--dmitry---banner-grabbing><code>netcat</code> / <code>whatweb</code> / <code>curl</code> / <code>dmitry</code> - Banner Grabbing<a hidden class=anchor aria-hidden=true href=#netcat--whatweb--curl--dmitry---banner-grabbing>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>netcat &lt;target-ip-addr&gt; &lt;port&gt;
</span></span><span class=line><span class=cl><span class=m>220</span> <span class=o>(</span>vsFTPd 2.3.4<span class=o>)</span> <span class=c1># FTP</span>
</span></span><span class=line><span class=cl>quit
</span></span><span class=line><span class=cl><span class=m>221</span> Goodbye
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>whatweb http://&lt;target-ip-addr&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>dmitry -p &lt;target-ip-addr&gt; <span class=c1># -p port scan on 150 most used services</span>
</span></span><span class=line><span class=cl>dmitry -pb &lt;target-ip-addr&gt; <span class=c1># -b switch version of the program running.</span>
</span></span></code></pre></div><h4 id=port-numbers>Port numbers<a hidden class=anchor aria-hidden=true href=#port-numbers>#</a></h4><table><thead><tr><th><strong>Number</strong></th><th><strong>Assignment</strong></th></tr></thead><tbody><tr><td>20</td><td>File Transfer Protocol (FTP) Data Transfer</td></tr><tr><td>21</td><td>File Transfer Protocol (FTP) Command Control</td></tr><tr><td>22</td><td>Secure Shell (SSH) Secure Login</td></tr><tr><td>23</td><td>Telnet remote login service, unencrypted text messages</td></tr><tr><td>25</td><td>Simple Mail Transfer Protocol (SMTP) email delivery</td></tr><tr><td>53</td><td>Domain Name System (DNS) service</td></tr><tr><td>67, 68</td><td>Dynamic Host Configuration Protocol (DHCP)</td></tr><tr><td>80</td><td>Hypertext Transfer Protocol (HTTP) used in the World Wide Web</td></tr><tr><td>110</td><td>Post Office Protocol (POP3)</td></tr><tr><td>119</td><td>Network News Transfer Protocol (NNTP)</td></tr><tr><td>123</td><td>Network Time Protocol (NTP)</td></tr><tr><td>143</td><td>Internet Message Access Protocol (IMAP) Management of digital mail</td></tr><tr><td>161</td><td>Simple Network Management Protocol (SNMP)</td></tr><tr><td>194</td><td>Internet Relay Chat (IRC)</td></tr><tr><td>443</td><td>HTTP Secure (HTTPS) HTTP over TLS/SSL</td></tr><tr><td>546, 547</td><td>DHCPv6 IPv6 version of DHCP</td></tr><tr><td>6379</td><td>Redis</td></tr></tbody></table><h2 id=challenges>Challenges<a hidden class=anchor aria-hidden=true href=#challenges>#</a></h2><h3 id=telnetport-23tcp-linux-telnetd>telnet(port 23/tcp Linux telnetd)<a hidden class=anchor aria-hidden=true href=#telnetport-23tcp-linux-telnetd>#</a></h3><p>Telnet is an old service used for remote management of other hosts on the network. Usually, connection requests through telnet are configured with username/password combinations for increased security.</p><blockquote><p>Note: Due to configuration mistakes, some important accounts can be left with blank passwords for the sake of accessibility. Some typical important accounts have self-explanatory names, such as: <code>admin</code>, <code>administrator</code> and <code>root</code> leaving open to simple brute-forcing attacks.</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ telnet <span class=o>{</span>target-ip-addr<span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Meow login: root
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cat flag.txt
</span></span></code></pre></div><h3 id=ftpport-21tcp-vsftpd-303>FTP(port 21/tcp vsftpd 3.0.3)<a hidden class=anchor aria-hidden=true href=#ftpport-21tcp-vsftpd-303>#</a></h3><p>File transfer services that may have high chances to be poorly configured, it can be easily misconfigured if not correctly understood. For secure transmission that protects the username and password and encrypts the content, FTP is often secured with SSL/TLS (FTPS) or replaced with SSH File Transfer Protocol (SFTP).</p><blockquote><p>Note: FTP users may authenticate themselves with a clear-text sign-in protocol, generally in the form of a username and password. A typical misconfiguration for running FTP services allows the <code>anonymous</code> username, followed by any password whatsoever since the service will disregard the password for this specific account.</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ftp <span class=o>{</span>target-ip-addr<span class=o>}</span>
</span></span><span class=line><span class=cl>Name: anonymous
</span></span><span class=line><span class=cl><span class=m>331</span> Please specify the password.
</span></span><span class=line><span class=cl>Password: anon123
</span></span><span class=line><span class=cl>ftp&gt; ls
</span></span><span class=line><span class=cl><span class=m>200</span> : PORT <span class=nb>command</span> successful. Consider using PASV.
</span></span><span class=line><span class=cl><span class=m>150</span> : Here comes the directory listing.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>226</span> : Directory send OK.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; get flag.txt <span class=c1># Download the file to the same directory.</span>
</span></span><span class=line><span class=cl><span class=m>226</span> : Transfer complete.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; bye
</span></span><span class=line><span class=cl><span class=m>421</span> Timeout
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Other options: Make sure from are in right path where the file exists.</span>
</span></span><span class=line><span class=cl>&gt; put exploit.php <span class=c1># Upload a file</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; mdelete exploit.php <span class=c1># Delete a file</span>
</span></span></code></pre></div><h3 id=smb445tcp-microsoft-ds>SMB(445/tcp microsoft-ds?)<a hidden class=anchor aria-hidden=true href=#smb445tcp-microsoft-ds>#</a></h3><p>SMB (Server Message Block) is communication protocol provides shared access to files, printers, and serial ports between endpoints on a network. We mostly see SMB services running on Windows machines. SMB runs at the Application or Presentation layers of the OSI model. Due to this, it
relies on lower-level protocols for transport. The Transport layer protocol that Microsoft SMB Protocol is most often used with is NetBIOS over TCP/IP (NBT).</p><blockquote><p>Note. An SMB-enabled storage on the network is called a share . SMB clients are required to provide a username/password combination to see or interact with the contents of the SMB share. A network administrator can sometimes make mistakes and accidentally allow logins without any valid credentials or using either <code>guest_accounts</code> or <code>anonymous</code> log-ons.</p></blockquote><p>Four separate shares:</p><ul><li><code>ADMIN$</code> - Administrative shares are hidden network shares created by the Windows NT family of operating systems that allow system administrators to have remote access to every disk volume on a network-connected system. These shares may not be permanently deleted but may be disabled.</li><li><code>C$</code> - Administrative share for the C:\ disk volume. This is where the operating system is hosted.</li><li><code>IPC$</code> - The inter-process communication share. Used for inter-process communication via named pipes and is not part of the file system.</li><li><code>WorkShares</code> - Custom share.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ smbclient -L <span class=o>{</span>target-ip-addr<span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ smbclient <span class=se>\\\\</span><span class=o>{</span>target-ip-addr<span class=o>}</span><span class=se>\\</span>ADMIN$
</span></span><span class=line><span class=cl>    or
</span></span><span class=line><span class=cl>$ smbclient <span class=se>\\\\</span><span class=o>{</span>target-ip-addr<span class=o>}</span><span class=se>\\</span>C$
</span></span><span class=line><span class=cl>NT_STATUS_ACCESS_DENIED
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Seems to be human made, prone to misconfiguration.</span>
</span></span><span class=line><span class=cl>$ smbclient <span class=se>\\\\</span><span class=o>{</span>target-ip-addr<span class=o>}</span><span class=se>\\</span>WorkShares
</span></span><span class=line><span class=cl>smb: <span class=se>\&gt;</span>
</span></span></code></pre></div><pre tabindex=0><code>ls : listing contents of the directories within the share
cd : changing current directories within the share
get : downloading the contents of the directories within the share
exit : exiting the smb shell
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Passing username and password.</span>
</span></span><span class=line><span class=cl>$ smbclient -U <span class=s1>&#39;user&#39;</span> <span class=se>\\\\</span><span class=o>{</span>target-ip-addr<span class=o>}</span><span class=se>\\</span>Administrator
</span></span></code></pre></div><h3 id=redis6379tcp-key-value-store-507>Redis(6379/tcp key-value store 5.0.7)<a hidden class=anchor aria-hidden=true href=#redis6379tcp-key-value-store-507>#</a></h3><p>Redis (<strong>RE</strong>mote <strong>DI</strong>ctionary <strong>S</strong>erver), which is an &lsquo;in-memory&rsquo; database are the ones that rely essentially on the primary memory for data storage (meaning that the database is managed in the RAM of the system); in contrast to databases that store data on the disk or SSDs. Primary memory is significantly faster than the secondary memory, the data retrieval time in the case of &lsquo;in-memory&rsquo; databases is very small, thus offering very efficient & minimal response times.</p><blockquote><p>Note: In-memory databases like Redis are typically used to cache data that is frequently requested for quick retrieval. The <code>Keyspace</code> section provides statistics on the main dictionary of each database. The statistics include the number of keys, and the number of keys with an expiration.</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ redis-cli -h <span class=o>{</span>target-ip-addr<span class=o>}</span>
</span></span><span class=line><span class=cl>&gt; info
</span></span><span class=line><span class=cl><span class=c1># Keyspace</span>
</span></span><span class=line><span class=cl>db0:keys<span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; <span class=k>select</span> <span class=m>0</span> <span class=c1># Select Redis logical database followed by index number.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; keys * <span class=c1># List all the keys present.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; get flag
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ redis-cli -h <span class=o>{</span>target-ip-addr<span class=o>}</span>
</span></span><span class=line><span class=cl>&gt; AUTH &lt;passkey&gt;
</span></span></code></pre></div><h2 id=source>Source<a hidden class=anchor aria-hidden=true href=#source>#</a></h2><ul><li><a href=https://www.hackthebox.com/>Hack The Box</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/enumeration/>Enumeration</a></li><li><a href=http://localhost:1313/tags/redis/>Redis</a></li><li><a href=http://localhost:1313/tags/smb/>Smb</a></li><li><a href=http://localhost:1313/tags/ftp/>Ftp</a></li><li><a href=http://localhost:1313/tags/telnet/>Telnet</a></li></ul></footer></article></main><footer class=footer><span>&copy;
2025
<a href=http://localhost:1313/>Agus Fahmi Aji Pramana's Blogging Site</a></span>
| <span><a href=/terms-and-conditions>Terms and Conditions</a>
</span>|
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>
&
      <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><br></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".project");e.forEach(function(e){e.addEventListener("click",function(t){t.target.closest(".small-icons")||window.open(e.getAttribute("data-project-link"),"_blank").focus()})})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>