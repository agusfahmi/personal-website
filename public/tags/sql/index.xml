<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sql on Agus Fahmi Aji Pramana&#39;s Blogging Site</title>
    <link>http://localhost:1313/tags/sql/</link>
    <description>Recent content in Sql on Agus Fahmi Aji Pramana&#39;s Blogging Site</description>
    <image>
      <title>Agus Fahmi Aji Pramana&#39;s Blogging Site</title>
      <url>http://localhost:1313/logo.svg</url>
      <link>http://localhost:1313/logo.svg</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Thu, 19 Oct 2023 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/sql/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Mission 1 Challenge - Intensive Cloud Training</title>
      <link>http://localhost:1313/blogs/training/intensive-cloud-training/mission-1-challenge/</link>
      <pubDate>Tue, 17 Oct 2023 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/blogs/training/intensive-cloud-training/mission-1-challenge/</guid>
      <description>Learning and Outcome from Mission 1 Challenge</description>
      <content:encoded><![CDATA[<h2 id="mission-introduction">Mission Introduction</h2>
<p>In this mission, I have to setup free tier of AWS and Google Cloud Account. Multi-Cloud is when any organization uses different cloud service providers to successfully run an application. It is also referred as a strategy of using the best services from two or more Cloud providers.</p>
<h3 id="inside">Inside</h3>
<ul>
<li>Manager IAM user to provide programmatic access to Terraform user.</li>
<li>We use Terraform (IaC) to provision Google Cloud SQL, GKE Cluster and AWS S3 Bucket using Google CloudShell.</li>
</ul>
<h2 id="join-community">Join Community</h2>
<p>
  
  <input type="checkbox" id="zoomCheck-5ca57" hidden />
  <label for="zoomCheck-5ca57">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/introduce.webp"
      alt="Introduce in Community"
       />
  </label>
</p>
<h2 id="aws-and-google-cloud-account-setup">AWS and Google Cloud Account Setup</h2>
<h3 id="aws">AWS</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-17cb4" hidden />
  <label for="zoomCheck-17cb4">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/aws-account.webp"
      alt="AWS account"
       />
  </label>
</p>
<h3 id="google-cloud">Google Cloud</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-0fb67" hidden />
  <label for="zoomCheck-0fb67">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/google-cloud-account.webp"
      alt="Google Cloud account"
       />
  </label>
</p>
<h4 id="free-trail">Free Trail</h4>
<p>
  
  <input type="checkbox" id="zoomCheck-c1fea" hidden />
  <label for="zoomCheck-c1fea">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/google-cloud-account-console.webp"
      alt="Google Cloud Free Trail account"
       />
  </label>
</p>
<h2 id="begin-hands-on-project">Begin Hands-on Project</h2>
<h3 id="setting-up-terraform-user-in-aws-iam">Setting up Terraform user in AWS IAM</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-b45f9" hidden />
  <label for="zoomCheck-b45f9">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/iam-user.webp"
      alt="IAM User Setup"
       />
  </label>
</p>
<h3 id="running-commands-in-google-cloudshell">Running commands in Google CloudShell</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-7ecee" hidden />
  <label for="zoomCheck-7ecee">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/google-cloudshell.webp"
      alt="Running commands in Google CloudShell"
       />
  </label>
</p>
<h3 id="initializing-terraform">Initializing Terraform</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-e2897" hidden />
  <label for="zoomCheck-e2897">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/terraform-init.webp"
      alt="Google Console Initialize Terraform"
       />
  </label>
</p>
<h3 id="aws-s3-bucket-setup-via-terraform">AWS S3 Bucket Setup via. Terraform</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-31282" hidden />
  <label for="zoomCheck-31282">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/s3-bucket.webp"
      alt="AWS S3 Bucket Setup"
       />
  </label>
</p>
<h3 id="google-sql-and-kubernetes-cluster-setup-via-terraform">Google SQL and Kubernetes Cluster Setup via. Terraform</h3>
<h4 id="sql">SQL</h4>
<p>
  
  <input type="checkbox" id="zoomCheck-6ca38" hidden />
  <label for="zoomCheck-6ca38">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/sql-instance.webp"
      alt="SQL Instance"
       />
  </label>
</p>
<h4 id="kubernetes-cluster">Kubernetes Cluster</h4>
<p>
  
  <input type="checkbox" id="zoomCheck-b320b" hidden />
  <label for="zoomCheck-b320b">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/kubernetes-cluster.webp"
      alt="Kubernetes Cluster"
       />
  </label>
</p>
<h3 id="sql-network-configuration">SQL Network Configuration</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-4dd5c" hidden />
  <label for="zoomCheck-4dd5c">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/sql-network-configuration.webp"
      alt="SQL Network Configuration"
       />
  </label>
</p>
<h2 id="mission-accomplished">Mission Accomplished</h2>
<h3 id="sql-instance">SQL Instance</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-c3d60" hidden />
  <label for="zoomCheck-c3d60">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/sql-complete-setup.webp"
      alt="SQL Instance Up and Running"
       />
  </label>
</p>
<h3 id="kubernetes">Kubernetes</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-c4627" hidden />
  <label for="zoomCheck-c4627">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/kubernetes-complete-setup.webp"
      alt="Kubernetes Complete Setup"
       />
  </label>
</p>
<h2 id="linkedin-post">LinkedIn Post</h2>
<p>
  
  <input type="checkbox" id="zoomCheck-b1371" hidden />
  <label for="zoomCheck-b1371">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/linkedin-post.webp"
      alt="LinkedIn Post"
       />
  </label>
</p>
<h2 id="invite-to-the-cloud-bootcamp">Invite to The Cloud Bootcamp</h2>
<ul>
<li><a href="https://e.thecloudbootcamp.com/d8z5zO">https://e.thecloudbootcamp.com/d8z5zO</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Mission 2 Challenge - Intensive Cloud Training</title>
      <link>http://localhost:1313/blogs/training/intensive-cloud-training/mission-2-challenge/</link>
      <pubDate>Wed, 18 Oct 2023 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/blogs/training/intensive-cloud-training/mission-2-challenge/</guid>
      <description>Learning and Outcome from Mission 2 Challenge</description>
      <content:encoded><![CDATA[<h2 id="mission-introduction">Mission Introduction</h2>
<p>In this mission, I have my Google Cloud SQL instance and Google Kubernetes Engine Cluster up and running from the previous Mission 1. Going further, I&rsquo;ll have to setup MySQL database, deploy image of application to Google Container Registry, deploy the app in cluster as GKE Workload. The main goal is deploy an app and make it publicly accessible.</p>
<h3 id="inside">Inside</h3>
<ul>
<li>Manager IAM user to provide programmatic access to AWS S3 Bucket from Google Kubernetes Cluster app.</li>
<li>Manually setup user in SQL Cloud, create database and table which will be used by the application.</li>
<li>Build and upload the docker image in GCR (Google Container Registry).</li>
<li>Connect the previous made application cluster to Google Cloud Container cluster.</li>
<li>Apply the application Kubernetes configuration to run upload GCR image in a cluster</li>
<li>Once, the app is up and running we use the public IP address to access the application.</li>
</ul>
<h2 id="begin-hands-on-project">Begin Hands-on Project</h2>
<h3 id="user-creation-for-kubernetes-cluster-app-to-connect-s3">User creation for Kubernetes cluster app to connect S3</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-1c2de" hidden />
  <label for="zoomCheck-1c2de">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/system-user.webp"
      alt="System User Creation"
       />
  </label>
</p>
<h3 id="create-user-to-access-sql-instance">Create user to access SQL Instance</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-492d7" hidden />
  <label for="zoomCheck-492d7">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/sql-user.webp"
      alt="SQL Instance user account"
       />
  </label>
</p>
<h3 id="create-table-in-mysql-database">Create table in mysql database</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-ea05d" hidden />
  <label for="zoomCheck-ea05d">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/sql-db-setup.webp"
      alt="SQL DB Setup"
       />
  </label>
</p>
<h3 id="build-docker-image-and-push-it-to-gcr">Build Docker image and push it to GCR</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-c602d" hidden />
  <label for="zoomCheck-c602d">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/console-build.webp"
      alt="Successful Build"
       />
  </label>
</p>
<h3 id="container-registry-of-app">Container Registry of App</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-39c6d" hidden />
  <label for="zoomCheck-39c6d">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/container-registry-build.webp"
      alt="Container Registry Build"
       />
  </label>
</p>
<h3 id="connect-to-gke-cluster">Connect to GKE cluster</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-f97f0" hidden />
  <label for="zoomCheck-f97f0">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/connect-to-cluster.webp"
      alt="Connect luxxy cluster to GKE cluster"
       />
  </label>
</p>
<h2 id="mission-accomplished">Mission Accomplished</h2>
<h3 id="deployed-application-in-cluster-as-workload">Deployed application in Cluster as Workload</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-0528b" hidden />
  <label for="zoomCheck-0528b">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/kubernetes-workload.webp"
      alt="Kubernetes workloads"
       />
  </label>
</p>
<h3 id="browsing-the-application">Browsing the application</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-64e29" hidden />
  <label for="zoomCheck-64e29">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/running-server.webp"
      alt="Browsing the application"
       />
  </label>
</p>
<h2 id="invite-to-the-cloud-bootcamp">Invite to The Cloud Bootcamp</h2>
<ul>
<li><a href="https://e.thecloudbootcamp.com/d8z5zO">https://e.thecloudbootcamp.com/d8z5zO</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Mission 3 Challenge - Intensive Cloud Training</title>
      <link>http://localhost:1313/blogs/training/intensive-cloud-training/mission-3-challenge/</link>
      <pubDate>Thu, 19 Oct 2023 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/blogs/training/intensive-cloud-training/mission-3-challenge/</guid>
      <description>Learning and Outcome from Mission 3 Challenge</description>
      <content:encoded><![CDATA[<h2 id="mission-introduction">Mission Introduction</h2>
<p>In this mission, we&rsquo;ll perform the database migration and files migration in Google Cloud SQL and AWS S3 respectively. After the migration process is done, we successfully finished all the mission from the trainings. Then we start to deprovision and delete all the resources to avoid charges in Cloud Services.</p>
<h3 id="inside">Inside</h3>
<ul>
<li>We migrate the SQL dump file data to Google Cloud SQL using Google Cloud Shell.</li>
<li>Then, we migrate the PDF files to S3 Bucket using AWS CloudShell.</li>
<li>Deprovision and delete all resource using Terraform.</li>
</ul>
<h2 id="begin-hands-on-project">Begin Hands-on Project</h2>
<h3 id="database-migration-to-google-cloud-sql-using-mysql-dump">Database migration to Google Cloud SQL using MySQL dump</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-5aa00" hidden />
  <label for="zoomCheck-5aa00">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/dump-mysql.webp"
      alt="Dump MySQL to Google CLoud"
       />
  </label>
</p>
<h3 id="pdf-files-migration-to-s3-bucket-using-aws-cloudshell">PDF Files Migration to S3 Bucket using AWS CloudShell</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-ac596" hidden />
  <label for="zoomCheck-ac596">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/aws-cloudshell-upload.webp"
      alt="AWS CloudShell PDF Uploads"
       />
  </label>
</p>
<h3 id="uploaded-files-in-aws-s3-bucket">Uploaded files in AWS S3 Bucket</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-e589b" hidden />
  <label for="zoomCheck-e589b">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/listing-aws-s3.webp"
      alt="Uploaded file in AWS S3 Bucket"
       />
  </label>
</p>
<h2 id="mission-accomplished">Mission Accomplished</h2>
<h3 id="navigating-records-in-application">Navigating records in Application</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-ac1ce" hidden />
  <label for="zoomCheck-ac1ce">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/navigating-records.webp"
      alt="Navigating records in App"
       />
  </label>
</p>
<h3 id="accessing-the-file-from-application">Accessing the file from Application</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-5efe8" hidden />
  <label for="zoomCheck-5efe8">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/accessing-file.webp"
      alt="Accessing the file from Application"
       />
  </label>
</p>
<h2 id="cleanup">Cleanup</h2>
<h3 id="disabling-deletion-protection-in-terraform-file">Disabling deletion protection in Terraform file</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-6c4a3" hidden />
  <label for="zoomCheck-6c4a3">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/cloud-editor.webp"
      alt="Updating configuration in Cloud Editor"
       />
  </label>
</p>
<h3 id="disabling-deletion-protection-in-tfstate">Disabling deletion protection in tfstate</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-5549d" hidden />
  <label for="zoomCheck-5549d">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/cloud-editor-changes.webp"
      alt="Updating tfstate in Cloud Editor"
       />
  </label>
</p>
<h3 id="deleted-resources">Deleted resources</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-061b6" hidden />
  <label for="zoomCheck-061b6">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/deleted-resources.webp"
      alt="Deleted resources"
       />
  </label>
</p>
<h2 id="certificate-of-completion">Certificate of Completion</h2>
<p>
  
  <input type="checkbox" id="zoomCheck-7e138" hidden />
  <label for="zoomCheck-7e138">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/certificate.webp"
      alt="Alt text"
       />
  </label>
</p>
]]></content:encoded>
    </item>
    <item>
      <title>SQL Index Monitoring and Rebuilding</title>
      <link>http://localhost:1313/blogs/tech/sql-index-monitoring-and-rebuilding/</link>
      <pubDate>Mon, 19 Apr 2021 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/blogs/tech/sql-index-monitoring-and-rebuilding/</guid>
      <description>Monitoring and Rebuilding Indexes in SQL</description>
      <content:encoded><![CDATA[<h2 id="index-fragmentation">Index Fragmentation</h2>
<ul>
<li>Index Fragmentation percentage varies when the logical page orders don’t coordinate with the physical page order in the page allocation of an index.</li>
<li>With the data modification in the table, information can be resized on the data page.</li>
<li>Users can observe the disturbing page order with the massive delete operation on the table.</li>
<li>Along with the update and delete operations, the data page won’t be a top-full or empty page. Therefore, non-utilized free space raises the order mismatch between logical page and physical page with increasing the fragmentation, and that can cause worst query performance and consumes more server resources as well.</li>
<li>There can be a number of indexes created on a single table with the combination of various columns, and each index can have a different fragmentation percentage.</li>
</ul>
<h3 id="fragmentation-status-using-the-inbuilt-t-sql-statement">Fragmentation Status using the inbuilt T-SQL statement</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">S</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">&#39;Schema&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">T</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">&#39;Table&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">I</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">&#39;Index&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">avg_fragmentation_in_percent</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">page_count</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">sys</span><span class="p">.</span><span class="n">dm_db_index_physical_stats</span><span class="p">(</span><span class="n">DB_ID</span><span class="p">(),</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DDIPS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sys</span><span class="p">.</span><span class="n">tables</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">object_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">object_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sys</span><span class="p">.</span><span class="n">schemas</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">schema_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">schema_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sys</span><span class="p">.</span><span class="n">indexes</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">I</span><span class="p">.</span><span class="n">object_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">object_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">index_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I</span><span class="p">.</span><span class="n">index_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">database_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DB_ID</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">I</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">avg_fragmentation_in_percent</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">DDIPS</span><span class="p">.</span><span class="n">avg_fragmentation_in_percent</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span></span></span></code></pre></div><h3 id="output">Output</h3>
<p>
  
  <input type="checkbox" id="zoomCheck-cf812" hidden />
  <label for="zoomCheck-cf812">
    <img
      class="zoomCheck"
      loading="lazy"
      decoding="async"
      src="img/index-result.webp"
      alt="Indexing Result"
       />
  </label>
</p>
<p>Here, we can see the maximum fragmentation percentage is 94% in the local database right after loading
dummy data. To reduce this fragmentation, either of these can be performed in the database:</p>
<h3 id="rebuild-index">REBUILD INDEX</h3>
<p>The INDEX REBUILD always drops the index and reproduces it with new index pages which runs with the ALTER INDEX command. This activity can be run in parallel using an online option which does not affect the running requests and tasks of a similar table. In the case of REBUILD INDEX offline, then the object resource of the
index won’t be accessible till the end of the REBUILD process completion.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">--Basic Rebuild Command
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">Index_Name</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">Table_Name</span><span class="w"> </span><span class="n">REBUILD</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">--REBUILD Index with ONLINE OPTION
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">Index_Name</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">Table_Name</span><span class="w"> </span><span class="n">REBUILD</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">ONLINE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><h3 id="reorganize-index">REORGANIZE INDEX</h3>
<p>The REORGANIZE INDEX command reorders the index page by expelling the free or unused space on the page. Ideally, index pages are reordered physically in the data file. REORGANIZE does not drop and create the index but simply restructures the information on the page. REORGANIZE does not have any offline choice, and REORGANIZE does not affect the statistics compared to the REBUILD option. REORGANIZE performs online always.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">ALTER</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">Index_Name</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">Table_Name</span><span class="w"> </span><span class="n">REORGANIZE</span><span class="w">
</span></span></span></code></pre></div><h3 id="sql-server-index-and-statistics-maintenance">SQL Server Index and Statistics Maintenance</h3>
<p>Link to Maintenance Solution: <a href="https://ola.hallengren.com/sql-server-index-and-statistics-maintenance.html">https://ola.hallengren.com/sql-server-index-and-statistics-maintenance.html</a></p>
<p>IndexOptimize is the SQL Server Maintenance Solution’s stored procedure for rebuilding and reorganizing indexes and updating statistics. IndexOptimize is supported on SQL Server 2008, SQL Server 2008 R2, SQL Server 2012, SQL Server 2014, SQL Server 2016, SQL Server 2017, SQL Server 2019, Azure SQL Database, and Azure SQL Database Managed Instance.</p>
<p>Download <a href="https://ola.hallengren.com/downloads.html">MaintenanceSolution.sql</a>. This script creates all the objects and jobs that you need. You can also download the objects as separate scripts. The SQL Server Maintenance Solution is available on GitHub.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- Rebuild or reorganize all indexes with fragmentation on database1
</span></span></span><span class="line"><span class="cl"><span class="c1">-- database2 and index more than 5% will be REORGANIZED and REBUILT
</span></span></span><span class="line"><span class="cl"><span class="c1">-- whereas index more than 30% will only be REBUILT, update modified
</span></span></span><span class="line"><span class="cl"><span class="c1">-- statistics and log the results to a table.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">EXECUTE</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">IndexOptimize</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">Databases</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;database1, database2&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">FragmentationLow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">FragmentationMedium</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INDEX_REORGANIZE,INDEX_REBUILD_ONLINE,INDEX_REBUILD_OFFLINE&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">FragmentationHigh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INDEX_REBUILD_ONLINE,INDEX_REBUILD_OFFLINE&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">FragmentationLevel1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">FragmentationLevel2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">MinNumberOfPages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">UpdateStatistics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">SortInTempdb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">MaxDOP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">@</span><span class="n">LogToTable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Y&#39;</span><span class="w">
</span></span></span></code></pre></div><h4 id="databases">Databases</h4>
<p>Select databases. The hyphen character (-) is used to exclude databases, and the percent character (%) is
used for wildcard selection. All of these operations can be combined by using the comma (,).</p>
<table>
  <thead>
      <tr>
          <th>Value</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>SYSTEM_DATABASES</td>
          <td>All system databases (master, msdb, and model)</td>
      </tr>
      <tr>
          <td>USER_DATABASES</td>
          <td>All user databases</td>
      </tr>
      <tr>
          <td>ALL_DATABASES</td>
          <td>All databases</td>
      </tr>
      <tr>
          <td>AVAILABILITY_GROUP_DATABASES</td>
          <td>All databases in availability groups</td>
      </tr>
      <tr>
          <td>USER_DATABASES, AVAILABILITY_GROUP_DATABASES</td>
          <td>All user databases that are not in availability groups</td>
      </tr>
      <tr>
          <td>Db1</td>
          <td>The database Db1</td>
      </tr>
      <tr>
          <td>Db1, Db2</td>
          <td>The databases Db1 and Db2</td>
      </tr>
      <tr>
          <td>USER_DATABASES, -Db1</td>
          <td>All user databases, except Db1</td>
      </tr>
      <tr>
          <td>%Db%</td>
          <td>All databases that have “Db” in the name</td>
      </tr>
      <tr>
          <td>%Db%, -Db1</td>
          <td>All databases that have “Db” in the name, except Db1</td>
      </tr>
      <tr>
          <td>ALL_DATABASES, -%Db%</td>
          <td>All databases that do not have “Db” in the name</td>
      </tr>
  </tbody>
</table>
<h4 id="fragmentationlow--fragmentationmedium--fragmentationhigh">FragmentationLow / FragmentationMedium / FragmentationHigh</h4>
<p>Specify index maintenance operations to be performed on a low/medium/high-fragmented index. An online index rebuild or an index reorganization is not always possible. Because of this, you can specify multiple index-maintenance operations for each fragmentation group. These operations are prioritized from left to right: If the first operation is supported for the index, then that operation is used; if the first operation is not supported, then the second operation is used (if supported), and so on. If none of the specified operations are supported for an index, then that index is not maintained.</p>
<table>
  <thead>
      <tr>
          <th>Value</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>INDEX_REBUILD_ONLINE</td>
          <td>Rebuild index online.</td>
      </tr>
      <tr>
          <td>INDEX_REBUILD_OFFLINE</td>
          <td>Rebuild index offline.</td>
      </tr>
      <tr>
          <td>INDEX_REORGANIZE</td>
          <td>Reorganize index.</td>
      </tr>
      <tr>
          <td>INDEX_REBUILD_ONLINE, INDEX_REBUILD_OFFLINE</td>
          <td>Rebuild index online. Rebuild index offline if online rebuilding is not supported on an index.</td>
      </tr>
      <tr>
          <td>INDEX_REBUILD_ONLINE, INDEX_REORGANIZE</td>
          <td>Rebuild index online. Reorganize index if online rebuilding is not supported on an index.</td>
      </tr>
      <tr>
          <td>INDEX_REORGANIZE, INDEX_REBUILD_ONLINE, INDEX_REBUILD_OFFLINE</td>
          <td>Reorganize index. Rebuild index online if reorganizing is not supported on an index. Rebuild index offline if reorganizing and online rebuilding are not supported on an index</td>
      </tr>
  </tbody>
</table>
<h4 id="fragmentationlevel1--fragmentationlevel2">FragmentationLevel1 / FragmentationLevel2</h4>
<p>Set the lower limit, as a percentage, for medium fragmentation. The default is 5 percent.</p>
<p>Set the lower limit, as a percentage, for high fragmentation. The default is 30 percent.</p>
<p>This is based on Microsoft’s recommendation in Books Online. IndexOptimize checks avg_fragmentation_in_percent in sys.dm_db_index_physical_stats to determine the fragmentation.</p>
<h4 id="minnumberofpages--maxnumberofpages">MinNumberOfPages / MaxNumberOfPages</h4>
<p>Set a size, in pages; indexes with fewer pages are skipped for index maintenance. The default is 1000 pages. This is based on Microsoft’s recommendation.</p>
<p>Set a size, in pages; indexes with a greater number of pages are skipped for index maintenance. The default is no limitation.</p>
<p>IndexOptimize checks page_count in sys.dm_db_index_physical_stats to determine the size of the index.</p>
<h4 id="updatestatistics">UpdateStatistics</h4>
<table>
  <thead>
      <tr>
          <th>Value</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ALL</td>
          <td>Update index and column statistics.</td>
      </tr>
      <tr>
          <td>INDEX</td>
          <td>Update index statistics.</td>
      </tr>
      <tr>
          <td>COLUMNS</td>
          <td>Update column statistics.</td>
      </tr>
      <tr>
          <td>NULL</td>
          <td>Do not perform statistics maintenance. This is the default.</td>
      </tr>
  </tbody>
</table>
<h4 id="sortintempdb">SortInTempdb</h4>
<p>Use tempdb for sort operations when rebuilding indexes. The SortInTempdb option in IndexOptimize uses the SORT_IN_TEMPDB option in the SQL Server ALTER INDEX command. Values: Y and N (default N ).</p>
<h4 id="maxdop">MaxDOP</h4>
<p>Specify the number of CPUs to use when rebuilding indexes. If this number is not specified, the global maximum degree of parallelism is used.</p>
<p>The MaxDOP option in IndexOptimize uses the MAXDOP option in the SQL Server ALTER INDEX command.</p>
<h4 id="logtotable">LogToTable</h4>
<p>Log commands to the table dbo.CommandLog . Values: Y and N (default N ).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">CONCAT</span><span class="p">(</span><span class="n">DatabaseName</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">SchemaName</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ObjectName</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DatabaseSchemaObjectName</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">CASE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">ObjectType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;U&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;USER_TABLE&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">ObjectType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;V&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;VIEW&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ObjectType</span><span class="p">,</span><span class="w"> </span><span class="n">IndexName</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">CASE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">IndexType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;CLUSTERED&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">IndexType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;NONCLUSTERED&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">IndexType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;XML&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">IndexType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;SPATIAL&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">IndexType</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">ExtendedInfo</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;(ExtendedInfo/PageCount)[1]&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;int&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">PageCount</span><span class="p">],</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">ExtendedInfo</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;(ExtendedInfo/Fragmentation)[1]&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;float&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Fragmentation</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">PartitionNumber</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">CommandType</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Command</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">StartTime</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">EndTime</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">IIF</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="n">SS</span><span class="p">,</span><span class="w"> </span><span class="n">StartTime</span><span class="p">,</span><span class="w"> </span><span class="n">EndTime</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">24</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3600</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">CAST</span><span class="p">(</span><span class="n">DATEDIFF</span><span class="p">(</span><span class="n">SS</span><span class="p">,</span><span class="w"> </span><span class="n">StartTime</span><span class="p">,</span><span class="w"> </span><span class="n">EndTime</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">24</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3600</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s1">&#39;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">DATEADD</span><span class="p">(</span><span class="n">MS</span><span class="p">,</span><span class="w"> </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="n">MS</span><span class="p">,</span><span class="w"> </span><span class="n">StartTime</span><span class="p">,</span><span class="w"> </span><span class="n">EndTime</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIME</span><span class="p">),</span><span class="w"> </span><span class="mi">12</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Duration</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">ErrorNumber</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">ErrorMessage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CommandLog</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">CommandType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ALTER_INDEX&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">DatabaseName</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h2 id="reference">Reference</h2>
<ul>
<li><a href="https://www.sqlshack.com/how-to-identify-and-resolve-sql-server-index-fragmentation/">https://www.sqlshack.com/how-to-identify-and-resolve-sql-server-index-fragmentation/</a></li>
<li><a href="https://ola.hallengren.com/sql-server-index-and-statistics-maintenance.html">https://ola.hallengren.com/sql-server-index-and-statistics-maintenance.html</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>SQL performance benchmarking queries</title>
      <link>http://localhost:1313/blogs/tech/sql-benchmarking/</link>
      <pubDate>Tue, 17 Dec 2019 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/blogs/tech/sql-benchmarking/</guid>
      <description>Script that benchmark the given queries.</description>
      <content:encoded><![CDATA[<h2 id="checking-the-performance-of-the-query">Checking the performance of the query</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="nb">INT</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="k">statement</span><span class="w"> </span><span class="k">CURSOR</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- This is the type selected value of the query
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INT</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">results</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span><span class="n">elapsed</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">WHILE</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">BEGIN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="k">statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CURSOR</span><span class="w"> </span><span class="k">FOR</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">-- Replace this QUERY.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">employees</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">current_timestamp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">OPEN</span><span class="w"> </span><span class="o">@</span><span class="k">statement</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="k">statement</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">WHILE</span><span class="w"> </span><span class="o">@@</span><span class="n">FETCH_STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">BEGIN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="k">statement</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">END</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">CLOSE</span><span class="w"> </span><span class="o">@</span><span class="k">statement</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">DEALLOCATE</span><span class="w"> </span><span class="o">@</span><span class="k">statement</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">results</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="n">DATEDIFF</span><span class="p">(</span><span class="n">MS</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="p">,</span><span class="w"> </span><span class="k">current_timestamp</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">END</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">elapsed</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">results</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h3 id="output">Output</h3>
<table>
  <thead>
      <tr>
          <th>elapsed (ms)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>14773.00000</td>
      </tr>
      <tr>
          <td>18177.00000</td>
      </tr>
      <tr>
          <td>14020.00000</td>
      </tr>
      <tr>
          <td>9120.00000</td>
      </tr>
      <tr>
          <td>9450.00000</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="benchmarking-sql-queries">Benchmarking SQL Queries</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">repeat</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="nb">INT</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="nb">INT</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="w"> </span><span class="nb">INT</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">statement1</span><span class="w"> </span><span class="k">CURSOR</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">statement2</span><span class="w"> </span><span class="k">CURSOR</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">results</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">run</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">statement</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">elapsed</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">WHILE</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">BEGIN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">r</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">statement1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CURSOR</span><span class="w"> </span><span class="k">FOR</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">-- Paste statement 1 here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">employee_comments</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">statement2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CURSOR</span><span class="w"> </span><span class="k">FOR</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">-- Paste statement 2 here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">employees</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">current_timestamp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">WHILE</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">@</span><span class="n">repeat</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">BEGIN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">OPEN</span><span class="w"> </span><span class="o">@</span><span class="n">statement1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">statement1</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">WHILE</span><span class="w"> </span><span class="o">@@</span><span class="n">FETCH_STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">BEGIN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">statement1</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">END</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">CLOSE</span><span class="w"> </span><span class="o">@</span><span class="n">statement1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">END</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">DEALLOCATE</span><span class="w"> </span><span class="o">@</span><span class="n">statement1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">results</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="n">MS</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="p">,</span><span class="w"> </span><span class="k">current_timestamp</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">current_timestamp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">WHILE</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">@</span><span class="n">repeat</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">BEGIN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">OPEN</span><span class="w"> </span><span class="o">@</span><span class="n">statement2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">statement2</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">WHILE</span><span class="w"> </span><span class="o">@@</span><span class="n">FETCH_STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">BEGIN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">statement2</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">dummy</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">END</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">CLOSE</span><span class="w"> </span><span class="o">@</span><span class="n">statement2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">END</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">DEALLOCATE</span><span class="w"> </span><span class="o">@</span><span class="n">statement2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">results</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="n">MS</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ts</span><span class="p">,</span><span class="w"> </span><span class="k">current_timestamp</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">END</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">statement</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">run</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">CAST</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">elapsed</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">elapsed</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">elapsed_ratio</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">results</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">statement</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h3 id="output-1">Output</h3>
<table>
  <thead>
      <tr>
          <th>statement</th>
          <th>run</th>
          <th>elapsed_ratio</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td>1</td>
          <td>100.46154</td>
      </tr>
      <tr>
          <td>1</td>
          <td>2</td>
          <td>101.76923</td>
      </tr>
      <tr>
          <td>1</td>
          <td>3</td>
          <td>91.53846</td>
      </tr>
      <tr>
          <td>1</td>
          <td>4</td>
          <td>100.76923</td>
      </tr>
      <tr>
          <td>1</td>
          <td>5</td>
          <td>92.07692</td>
      </tr>
      <tr>
          <td>2</td>
          <td>1</td>
          <td>1.07692</td>
      </tr>
      <tr>
          <td>2</td>
          <td>2</td>
          <td>1.30769</td>
      </tr>
      <tr>
          <td>2</td>
          <td>3</td>
          <td>1.53846</td>
      </tr>
      <tr>
          <td>2</td>
          <td>4</td>
          <td>1.00000</td>
      </tr>
      <tr>
          <td>2</td>
          <td>5</td>
          <td>1.00000</td>
      </tr>
  </tbody>
</table>
]]></content:encoded>
    </item>
  </channel>
</rss>
